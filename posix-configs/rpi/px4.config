# navio config for a quad
uorb start
param load
param set SYS_AUTOSTART 4009			# QAV250
param set MAV_BROADCAST 1
param set MAV_TYPE 2
param set SYS_MC_EST_GROUP 2
param set BAT_CNT_V_VOLT 0.001
param set BAT_V_DIV 10.9176300578
param set BAT_CNT_V_CURR 0.001
param set BAT_A_PER_V 15.391030303
dataman start
#df_lsm9ds1_wrapper start -R 4
df_mpu9250_wrapper start -R 10  			# 9250 is much more stablizer
#df_hmc5883_wrapper start
df_ms5611_wrapper start
#navio_rgbled start
#navio_adc start
#gps start -d /dev/spidev0.0 -i spi -p ubx
sensors start

commander start
navigator start
ekf2 start
land_detector start multicopter
mc_pos_control start
mc_att_control start
mavlink start -u 14556 -r 1000000
mavlink stream -u 14556 -s HIGHRES_IMU -r 50
mavlink stream -u 14556 -s ATTITUDE -r 50
#mavlink start -d /dev/ttyUSB0                 # this should be closed when lidar is determined to use
#mavlink stream -d /dev/ttyUSB0 -s HIGHRES_IMU -r 50    # if using rplidar ttyUSB0 should not be used
#mavlink stream -d /dev/ttyUSB0 -s ATTITUDE -r 50

#
# for navio
navio_sysfs_rc_in start                      # if this quadcopter uses navio, remember to set these open
linux_pwm_out start

#
# for no shield
#linux_pwm_out start -p pca9685
# rpi_rc_in start                            # No need
#linux_sbus start -d /dev/ttyAMA0

#
# no shield gps
#gps start -d /dev/ttyACM0 -i uart -p ubx

# navio gps
gps start -d /dev/spidev0.0 -i spi -p ubx

logger start -t -b 200
mavlink boot_complete

sleep 2                         ## custom functions
#rpi_socket start -p 2
#self_navigator start           # This one should be auto-started or it will not function


rplidar start


